# PhishGuard Environment Configuration
# copy this to .env.local and fill in your actual values
# dont commit .env.local to git obviously

# app stuff
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api
NEXT_PUBLIC_APP_NAME=PhishGuard
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NODE_ENV=development

# nextauth setup
# For production, change this to your actual domain (e.g., https://phish.tnpx.tech)
NEXTAUTH_URL=http://localhost:3000

# generate secret with: openssl rand -base64 32
# seriously change this in production!!
NEXTAUTH_SECRET=your-nextauth-secret-key-here

# === EMAIL CONFIGURATION (REQUIRED FOR PRODUCTION) ===
# Email service for verification, password reset, and notifications
# Option 1: Gmail SMTP (easiest for testing)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password
EMAIL_FROM=noreply@phish.equators.tech

# Option 2: SendGrid (recommended for production)
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=apikey
# EMAIL_PASSWORD=your-sendgrid-api-key
# EMAIL_FROM=noreply@phish.equators.tech

# Option 3: Custom SMTP Server
# EMAIL_HOST=your-smtp-server.com
# EMAIL_PORT=465
# EMAIL_SECURE=true
# EMAIL_USER=your-smtp-username
# EMAIL_PASSWORD=your-smtp-password
# EMAIL_FROM=noreply@phish.equators.tech

# Note: For Gmail, you need to enable "App Passwords" in your Google Account settings
# For production, use a dedicated email service like SendGrid, AWS SES, or Postmark

# google oauth 2.0
# get from: https://console.cloud.google.com/apis/credentials
# create oauth client id and set redirect uri to {NEXTAUTH_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# github oauth
# get from: https://github.com/settings/developers
# create new oauth app and set callback url to {NEXTAUTH_URL}/api/auth/callback/github
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# mongodb connection
# for dev: mongodb://localhost:27017/phishguard
# for production use atlas: mongodb+srv://username:password@cluster.mongodb.net/phishguard
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/phishguard?retryWrites=true&w=majority

# jwt stuff
# generate another secret, should be different from nextauth
JWT_SECRET=your-jwt-secret-key-here

# JWT Configuration for Desktop Client Authentication
# Access tokens (short-lived, used for API requests)
JWT_ACCESS_SECRET=your-jwt-access-secret-here
# Refresh tokens (long-lived, used to get new access tokens)
JWT_REFRESH_SECRET=your-jwt-refresh-secret-here
# Token expiry times in seconds
JWT_ACCESS_EXPIRY=3600
JWT_REFRESH_EXPIRY=2592000

# rate limiting settings
# how many requests allowed in the time window
RATE_LIMIT_MAX_REQUESTS=100
# time window in milliseconds (15 min = 900000, 1 hour = 3600000)
RATE_LIMIT_WINDOW_MS=900000
# global limits per hour
RATE_LIMIT_GLOBAL=10000
RATE_LIMIT_PER_USER=100
RATE_LIMIT_WINDOW_MINUTES=60

# Desktop Client Rate Limits (scans per hour)
FREE_USER_SCAN_LIMIT=100
PREMIUM_USER_SCAN_LIMIT=1000

# logging config
# levels: info, warning, error, critical
LOG_LEVEL=info
# auto delete logs older than this many days
LOG_RETENTION_DAYS=90
# show logs in console during development
ENABLE_CONSOLE_LOGS=true

# optional external apis
# uncomment if you need these

# === URL SCANNING EXTERNAL APIs (REQUIRED FOR FULL FUNCTIONALITY) ===
# These APIs enhance the phishing detection capabilities of the URL scanner

# VirusTotal API (OPTIONAL - URL reputation checking)
# Get API key at: https://www.virustotal.com/gui/join-us
# Free tier: 4 requests per minute, 500 per day
VIRUSTOTAL_API_KEY=your-virustotal-api-key

# URLScan.io API (OPTIONAL - Visual analysis and screenshots)
# Get API key at: https://urlscan.io/
# Free tier: 10 requests per minute
URLSCAN_API_KEY=your-urlscan-api-key

# Note: The URL scanner will work without these APIs but with reduced threat detection.
# For production deployment, configure at least one API for enhanced detection.
# Without APIs, the scanner relies on local pattern detection and heuristics.

# phishing detection apis like virustotal or google safe browsing
# PHISHING_API_KEY=your-api-key

# email service like sendgrid or mailgun
# EMAIL_API_KEY=your-email-api-key
# EMAIL_FROM=noreply@yourdomain.com

# analytics and monitoring
# google analytics tracking
# NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# sentry for error tracking
# SENTRY_DSN=your-sentry-dsn

# security reminders
# - never commit .env.local with real creds
# - rotate secrets every few months
# - use different secrets for each environment
# - store production secrets in a vault like aws secrets manager
# - make sure all required vars are set before deploying
VIRUSTOTAL_API_KEY=
URLSCAN_API_KEY=